<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:tabView>
        <p:tab title="#{text.lab_breakfast}">
            <h:panelGrid>
                <div class="ui-g ui-fluid">
                    <div>
                        <p:outputLabel value="#{text.lab_description}" for="inptDescriptionBreakfast"/>
                        <p:inputText id="inptDescriptionBreakfast" value="#{dietPlanMB.dietDAO.mealDescription}" style="width: 500px;"/> 
                    </div>
                    <p:spacer width="5"/>
                    <div>
                        <p:outputLabel for="alimentsBreakfast" value="#{text.lab_aliment}" />
                        <p:selectManyMenu id="alimentsBreakfast" value="#{dietPlanMB.selectedAliments}" var="aliment" filter="true" filterMatchMode="contains" 
                                          showCheckbox="true" style="width: 800px;">
                            <f:selectItems value="#{dietPlanMB.aliments}" itemLabel="#{aliment.name}" itemValue="#{aliment}"/>
                            <p:column>
                                <h:outputText value="#{aliment.name}" />
                            </p:column>
                            <p:ajax listener="#{dietPlanMB.onAlimentSelection}" global="false"/>
                        </p:selectManyMenu>
                        
                    </div>
                </div>
            </h:panelGrid>
            <div>
                <p:commandButton value="#{text.btn_save_breakfast}" action="#{dietPlanMB.save('Café da manhã')}" update="@form" icon="fa fa-check" styleClass="btn-primary" />
            </div>
        </p:tab>
        <p:tab title="#{text.lab_lunch}">
            <h:panelGrid>
                <div class="ui-g ui-fluid">
                    <div>
                        <p:outputLabel value="Descrição" for="inptDescriptionLunch"/>
                        <p:inputText id="inptDescriptionLunch" value="#{dietPlanMB.dietDAO.mealDescription}" style="width: 500px;"/> 
                    </div>
                    <p:spacer width="5"/>
                    <div>
                        <p:outputLabel for="alimentsLunch" value="#{text.lab_aliment}" />
                        <p:selectManyMenu id="alimentsLunch" value="#{dietPlanMB.selectedAliments}" 
                                          var="aliment" filter="true" filterMatchMode="contains" showCheckbox="true" style="width: 800px;">
                            <f:selectItems value="#{dietPlanMB.aliments}" var="aliment" 
                                           itemLabel="#{aliment.name}" itemValue="#{aliment}" />


                            <p:column>
                                <h:outputText value="#{aliment.name}" />
                            </p:column>
                            <p:ajax listener="#{dietPlanMB.onAlimentSelection}" global="false"/>
                        </p:selectManyMenu>

                    </div>
                </div>
            </h:panelGrid>
            <div>
                <p:commandButton value="#{text.btn_save_lunch}" action="#{dietPlanMB.save('Almoço')}" update="@form" icon="fa fa-check" styleClass="btn-primary"> 
                </p:commandButton>   
            </div>
        </p:tab>
        <p:tab title="#{text.lab_dinner}">
            <h:panelGrid>
                <div class="ui-g ui-fluid">
                    <div>
                        <p:outputLabel value="Descrição" for="inptDescriptionDinner"/>
                        <p:inputText id="inptDescriptionDinner" value="#{dietPlanMB.dietDAO.mealDescription}" style="width: 500px;"/> 
                    </div>
                    <p:spacer width="5"/>
                    <div>
                        <p:outputLabel for="alimentsDinner" value="#{text.lab_aliment}" />
                        <p:selectManyMenu id="alimentsDinner" value="#{dietPlanMB.selectedAliments}" 
                                          var="aliment" filter="true" filterMatchMode="contains" showCheckbox="true" style="width: 800px;">
                            <f:selectItems value="#{dietPlanMB.aliments}" var="aliment" 
                                           itemLabel="#{aliment.name}" itemValue="#{aliment}" />
                            <p:column>
                                <h:outputText value="#{aliment.name}" />
                            </p:column>
                            <p:ajax listener="#{dietPlanMB.onAlimentSelection}" global="false"/>
                        </p:selectManyMenu>
                    </div>
                </div>
            </h:panelGrid>
            <p:commandButton value="#{text.btn_save_dinner}" action="#{dietPlanMB.save('Janta')}" update="@form" icon="fa fa-check" styleClass="btn-primary"> 
            </p:commandButton>
        </p:tab>
    </p:tabView>
</ui:composition>